---
title: "Semana 20: Reducci√≥n de la densidad de puntos en generaci√≥n"
excerpt_separator: "<!--more-->"
categories:
  - Blog
tags:
  - CARLA
  - Unreal
  - PythonAPI
  - LiDAR
  - Submuestreo
---

## Comparaci√≥n del LiDAR con submuestreo por v√≥xeles vs. LiDAR con reducci√≥n de la frecuencia espacial en generaci√≥n  

En esta semana, se han comparado dos m√©todos diferentes para **reducir la densidad de puntos de la nube LiDAR en CARLA**:

1. **Submuestreo por v√≥xeles** *(post-procesamiento)*
   - Se captura la nube de puntos completa y luego se aplica **Voxel Grid Downsampling** para reducir la cantidad de puntos.
   - **Ventaja:** Mantiene la estructura espacial general y permite ajustes flexibles en post-procesamiento.  
   - **Desventaja:** Se genera una nube densa primero, lo que **puede ser computacionalmente costoso**.

2. **Reducci√≥n de la frecuencia espacial en generaci√≥n** *(pre-procesamiento)*  
   - Se configura el LiDAR **para generar menos puntos desde el inicio**, ajustando par√°metros como `points_per_second`, `range`, y `channels`.  
   - **Ventaja:** Reduce el n√∫mero de puntos **directamente en la simulaci√≥n**, mejorando el rendimiento.  
   - **Desventaja:** Menos control sobre la distribuci√≥n de los puntos despu√©s de la captura.  

### üîç **Configuraci√≥n de prueba**
Se usaron dos sensores LiDAR en el veh√≠culo para comparar los resultados:

- **LiDAR con submuestreo por v√≥xeles**:
  - `range = 100m`
  - `points_per_second = 1,000,000`
  - `channels = 64`
  - **Submuestreo:** Voxel Grid con tama√±o de 0.5m

- **LiDAR con reducci√≥n en generaci√≥n**:
  - `range = 50m`
  - `points_per_second = 375,000`
  - `channels = 64`
  - **No se aplic√≥ submuestreo posterior**

### **Resultados**
- **La reducci√≥n en generaci√≥n logra una nube m√°s ligera desde el inicio**, mejorando el rendimiento de la simulaci√≥n Sin embargo, genera una alta concentraci√≥n de puntos, sobre todo en √°reas cercanas al sensor, lo que puede ser redundante y aportar poca informaci√≥n √∫til. . Adem√°s, se limit√≥ el rango de detecci√≥n para evitar puntos lejanos de menor relevancia, priorizando una mayor resoluci√≥n en la cercan√≠a del sensor.
- **El submuestreo por v√≥xeles ofrece mayor control en post-procesamiento**, aunque requiere manejar una nube m√°s grande inicialmente, lo que supone un mayor coste computacional.  Su principal ventaja  es que evita el solapamiento de los puntos, asegurando una distribuci√≥n m√°s uniforme y un uso m√°s eficiente de los datos. Esto mejora la representaci√≥n de los objetos, manteniendo su forma de manera m√°s clara y estructurada, ya que los puntos est√°n mejor distribuidos espacialmente, a pesar de que en ambos casos se consigue una media de 6500 puntos por frame.
- **Ambos m√©todos reducen la densidad de puntos, pero su utilidad depende del caso de uso**:
    - Si se busca optimizar rendimiento en tiempo real ‚Üí Reducci√≥n en generaci√≥n.
    - Si se busca precisi√≥n en la representaci√≥n de objetos ‚Üí Submuestreo por v√≥xeles.

Dado que el prop√≥sito del sensor es la creaci√≥n de datasets, el submuestreo por v√≥xeles resulta la opci√≥n m√°s adecuada, ya que permite una representaci√≥n m√°s fiel de la escena, a pesar del mayor costo computacional.

<iframe width="560" height="315" src="https://www.youtube.com/embed/2_0_fnqI5BY?si=QVRf2jJAaynZ1SaK" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

